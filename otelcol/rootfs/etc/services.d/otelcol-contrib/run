#!/usr/bin/with-contenv bashio
# ==============================================================================
# Start the example service
# s6-overlay docs: https://github.com/just-containers/s6-overlay
# ==============================================================================

# Add your code here

# Declare variables
declare config

## Get the 'config' key from the user config options.
config=$(bashio::config 'config')

echo "$config" > /tmp/otelcol-config.yaml

## Run your program
exec /usr/bin/otelcol-contrib --config=/tmp/otelcol-config.yaml
